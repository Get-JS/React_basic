# BabelCustomPlugin

- 바벨은 프리셋과 플러그인을 누구나 제작할 수 있도록 API를 제공한다.

## AST

- 바벨은 문자열로 입력되는 코드를 AST(abstract syntax tree)라는 구조체로 만들어서 처리한다.
- 플러그인에서는 AST를 기반으로 코드를 변경한다.
- [AST 코드 변환 사이트](https://astexplorer.net)
- types 매개변수를 이용해서 AST 노드를 생성할 수 있다.

```js
module.exports = function ({ types: t }) {
  const node = t.BinaryExpression("+", t.Identifier("a"), t.Identifier("b"));
  console.log("isBinaryExpression", t.isBinaryExpression(node));
  return {
    visitor: {
      Identifier(path) {
        console.log("Identifier name", path.node.name);
      },
      BinaryExpression(path) {
        console.log("BinaryExpression operator", path.node.operator);
      },
    },
  };
};
```

- visitor 객체 내부에서 노드의 타입 이름으로 된 함수를 정의할 수 있다.
- 해당 하는 타입의 노드가 생성되면 같은 이름의 함수가 호출된다.
